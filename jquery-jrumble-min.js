/* jRumble v1.1 - http://jackrugile.com/jrumble
by Jack Rugile - http://jackrugile.com
Copyright 2011, Jack Rugile
MIT license - http://www.opensource.org/licenses/mit-license.php
*/
(function(a){a.fn.jrumble=function(b){var d={rangeX:2,rangeY:2,rangeRot:1,rumbleSpeed:10,rumbleEvent:"hover",posX:"left",posY:"top"};var c=a.extend(d,b);return this.each(function(){$obj=a(this);var s;var f=true;var j=c.rangeX;var i=c.rangeY;var r=c.rangeRot;j=j*2;i=i*2;r=r*2;var l=c.rumbleSpeed;var k=$obj.css("position");var g=c.posX;var q=c.posY;var n;var m;var p;if(g==="left"){n=parseInt($obj.css("left"),10);}if(g==="right"){n=parseInt($obj.css("right"),10);}if(q==="top"){m=parseInt($obj.css("top"),10);}if(q==="bottom"){m=parseInt($obj.css("bottom"),10);}function e(u){var w=Math.random();var x=Math.floor(Math.random()*(j+1))-j/2;var v=Math.floor(Math.random()*(i+1))-i/2;var t=Math.floor(Math.random()*(r+1))-r/2;if(u.css("display")==="inline"){p=true;u.css("display","inline-block");}if(x===0&&j!==0){if(w<0.5){x=1;}else{x=-1;}}if(v===0&&i!==0){if(w<0.5){v=1;}else{v=-1;}}if(k==="absolute"){u.css({position:"absolute","-webkit-transform":"rotate("+t+"deg)","-moz-transform":"rotate("+t+"deg)","-o-transform":"rotate("+t+"deg)",transform:"rotate("+t+"deg)"});u.css(g,n+x+"px");u.css(q,m+v+"px");}if(k==="fixed"){u.css({position:"fixed","-webkit-transform":"rotate("+t+"deg)","-moz-transform":"rotate("+t+"deg)","-o-transform":"rotate("+t+"deg)",transform:"rotate("+t+"deg)"});u.css(g,n+x+"px");u.css(q,m+v+"px");}if(k==="static"||k==="relative"){u.css({position:"relative","-webkit-transform":"rotate("+t+"deg)","-moz-transform":"rotate("+t+"deg)","-o-transform":"rotate("+t+"deg)",transform:"rotate("+t+"deg)"});u.css(g,x+"px");u.css(q,v+"px");}}var h={position:k,"-webkit-transform":"rotate(0deg)","-moz-transform":"rotate(0deg)","-o-transform":"rotate(0deg)",transform:"rotate(0deg)"};if(c.rumbleEvent==="hover"){$obj.hover(function(){var t=a(this);s=setInterval(function(){e(t);},l);},function(){var t=a(this);clearInterval(s);t.css(h);t.css(g,n+"px");t.css(q,m+"px");if(p===true){t.css("display","inline");}});}if(c.rumbleEvent==="click"){$obj.toggle(function(){var t=a(this);s=setInterval(function(){e(t);},l);},function(){var t=a(this);clearInterval(s);t.css(h);t.css(g,n+"px");t.css(q,m+"px");if(p===true){t.css("display","inline");}});}if(c.rumbleEvent==="mousedown"){$obj.bind({mousedown:function(){var t=a(this);s=setInterval(function(){e(t);},l);},mouseup:function(){var t=a(this);clearInterval(s);t.css(h);t.css(g,n+"px");t.css(q,m+"px");if(p===true){t.css("display","inline");}},mouseout:function(){var t=a(this);clearInterval(s);t.css(h);t.css(g,n+"px");t.css(q,m+"px");if(p===true){t.css("display","inline");}}});}if(c.rumbleEvent==="dblclick"){$obj.bind({dblclick:function(){var t=a(this);f=!f;if(f){clearInterval(s);t.css(h);t.css(g,n+"px");t.css(q,m+"px");if(p===true){t.css("display","inline");}}else{s=setInterval(function(){e(t);},l);}}});}if(c.rumbleEvent==="constant"){var o=a(this);s=setInterval(function(){e(o);},l);}});};})(jQuery);